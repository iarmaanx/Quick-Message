<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign Up | Quick Message</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-blue-50 to-blue-100 min-h-screen flex flex-col">

  <!-- Loader Overlay -->
  <div id="loader" class="fixed inset-0 bg-white flex items-center justify-center z-50">
    <div class="animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent"></div>
  </div>

  <!-- Header -->
  <header class="w-full p-6 flex items-center gap-3 bg-white shadow-lg">
    <a href="/index.html" class="flex items-center gap-3">
      <img src="/src/logo.png" alt="Quick Message Logo" class="h-10 w-10 rounded-lg" />
      <h1 class="text-3xl font-bold text-blue-600">Quick Message</h1>
    </a>
  </header>

  <!-- Signup Form -->
  <div class="flex flex-1 items-center justify-center px-4">
    <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md text-center">
      <h2 class="text-3xl font-bold text-blue-700 mb-6">Create Account</h2>

      <form id="signupForm" class="space-y-5">

        <!-- Step 1: Name -->
        <div id="step-name">
          <label class="block text-left text-sm font-semibold text-gray-600 mb-1">Your Name</label>
          <input type="text" id="name" placeholder="Enter your name"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"
            required />
          <button type="button"
            class="mt-4 w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition"
            onclick="nextStep('email')">Next</button>
        </div>

        <!-- Step 2: Email -->
        <div id="step-email" class="hidden">
          <label class="block text-left text-sm font-semibold text-gray-600 mb-1">Email</label>
          <input type="email" id="email" placeholder="you@example.com"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"
            required />
          <button type="button"
            class="mt-4 w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition"
            onclick="sendVerification()">Next</button>
        </div>

        <!-- Step 3: Email Verification -->
        <div id="step-verification" class="hidden">
          <label class="block text-left text-sm font-semibold text-gray-600 mb-1">Verification Code</label>
          <input type="text" id="verificationCode" placeholder="Enter the code sent to your email"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"
            required />
          <button type="button"
            class="mt-4 w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition"
            onclick="verifyCode()">Verify</button>
        </div>

        <!-- Step 4: Password -->
        <div id="step-password" class="hidden">
        <label class="block text-left text-sm font-semibold text-gray-600 mb-1">Password</label>
        <div class="relative">
            <input type="password" id="password" placeholder="••••••••"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"
            required />
            <button type="button" onclick="togglePassword()"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-blue-600 text-sm">
            Show
            </button>
        </div>
        <button type="submit"
            class="mt-4 w-full px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition">Create
            Account</button>
        </div>


      </form>

      <p class="mt-6 text-sm text-gray-600">Already have an account?
        <a href="login.html" class="text-blue-600 font-semibold hover:underline">Login</a>
      </p>

    </div>
  </div>

  <script>
            /// Loader
        window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('loader').classList.add('hidden');
        }, 500);
        });

        // Move to next step
        function nextStep(nextId) {
        const visibleStep = document.querySelector('form > div:not(.hidden)');
        const input = visibleStep.querySelector('input');

        if (!input.value) {
            input.reportValidity();
            return;
        }

        const steps = ['step-name', 'step-email', 'step-verification', 'step-password'];
        steps.forEach(step => document.getElementById(step).classList.add('hidden'));
        document.getElementById('step-' + nextId).classList.remove('hidden');
        }

        // Mock sending verification code
        function sendVerification() {
        const email = document.getElementById('email');
        if (!email.value) {
            email.reportValidity();
            return;
        }
        alert("Verification code sent to " + email.value);
        nextStep('verification');
        }

        // Mock code verification
        function verifyCode() {
        const code = document.getElementById('verificationCode').value;
        if (code === "") {
            alert("Please enter the verification code.");
            return;
        }
        if (code !== "1234") {
            alert("Incorrect code. Try '1234' to proceed for demo.");
            return;
        }
        nextStep('password');
        }

        // Toggle password visibility
        function togglePassword() {
        const passwordInput = document.getElementById("password");
        const toggleBtn = passwordInput.nextElementSibling;
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            toggleBtn.textContent = "Hide";
        } else {
            passwordInput.type = "password";
            toggleBtn.textContent = "Show";
        }
        }

        // Handle final form submission
        document.getElementById('signupForm').addEventListener('submit', function (e) {
        e.preventDefault(); // stop actual form submit

        const password = document.getElementById('password');
        if (!password.value) {
            password.reportValidity();
            return;
        }

        // Optionally: you could store signup data to localStorage/sessionStorage here too

        alert("✅ Account created successfully! Redirecting to your inbox...");
        
        // Redirect after short delay (feel free to skip delay if not needed)
        setTimeout(() => {
            window.location.href = 'app.html'; // Replace with your actual app page path
        }, 800);
        });




  </script>

</body>

</html>
